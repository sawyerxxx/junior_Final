## 嵌入式提纲

### 什么是嵌入式?
嵌入式系统是以应用为中心,以计算机技术为基础，以计算机技术为基础,软硬件可剪裁,适应应用系统,对功能.可靠性.成本.体积.功耗严格要求的专用计算机系统

### ARM体系结构的命名规则

| 后缀变量 |含义|
|---|---|
|x:|系列号，如ARM7，ARM9等|
|z:|Cache|
|D:|拥有JTAG调试器，支持片上Debug|
|I:|嵌入式ICE 支持片上断点和调试点|
|J:|Jazelle加速|
|S:|可综合版本|
|y:|存储管理/保护单元|
|T:|支持16位压缩指令集 Thumb|
|M:|内嵌硬件乘法器(Multiplier)|
|E:|增强指令(基于TDMI)|
|F:|向量浮点单元|


### 5级流水结构
> ARM9E从ARM7TDMI的**3级**流水线增加到了**5级**,ARM9E的流水线中容纳了更多的逻辑操作。

* 取址:从存储器中取出指令并将其放入指令流水线
* 译码:对取出的指令进行译码
* 执行:对每一个操作数移位，产生ALU的效果
* 缓冲:如果需要则访问数据存储器,否则ALU的结果只是简单地缓冲一个时钟周期,以便所有的指令具有相同的流水线流程
* 回写:将指令产生的结果回写到寄存器堆,包括从存储器取出的数据

### 哈佛结构和冯诺依曼结构
冯诺依曼结构具有共有的数据存储空间以及分离的访问总线。哈佛结构在指令执行时,取址和取数可以**并行**，因此具有更高的执行效率
> ARM9是哈佛结构 而ARM7的是冯诺依曼结构

### 经典ARM处理器系列主要参数

|项目|ARM7|ARM9|ARM10|ARM11|
|---|---|---|---|---|
|流水线深度|3级|5级|6级|8级|
|典型频率/MHz|80|150|260|335|
|功耗|0.06|0.19+(cache)|0.5+(cache)|0.4+(cache)|
|MIPS/MHz|0.97|1.1|1.3|1.2|
|架构|冯诺依曼|哈佛|哈佛|哈佛|
|乘法器|8*32|8*32|16*32|16*32|

### S5PV210处理器简介
> S5PV210采用了ARM CortexTM-A8 内核，ARM V7指令集 ，主频可达1GHz，64/32位内部总线结构，32/32KB的数据/指令一级缓存,512KB的耳机缓存,可以实现2000DMPS(每秒运算2亿条指令)的高性能运算能力。

### AMBA 
2.0版的AMBA(Advanced Microcontroller Bus Architecture)标准定义了三组总线:

* AHB(Advanced High-performance Bus)
* ASB(Advanced System Bus)
* APB(Advanced Peripheral Bus 外设总线)

### S5PV210存储区地址映射
|寄存器|地址|接口|
|---|---|---|
|特殊功能寄存器|0xE000_0000-0xFFFF_FFFF|SFRS|
|BOOT|0x0000_0000-0x1FFF_FFFF|IROM&IRAM Reserved|

### 时钟域

* MSYS(主系统)域的HCLK_MSYS.PCLK_MSYS(包括CPU使用的是ARMCLK)
* DSYS(显示系统)域的HCLK_DSYS.PCLK_DSYS
* PSYS(外围系统)域的HCLK_PSYS.PCLK_PSYS

### 高性能操作的频率值
> 建议值

* freq(ARMCLK)=1000MHz
* freq(HCLK_MSYS)=200MHz
* freq(HCLK_PSYS)=133MHz

### 电源管理方案的六种模式

* NORMAL模式:在NORMAL模式，CPU核心运行，即软件正在运行

* IDLE模式:在IDLE模式中,CPU核的时钟被关闭了,其余的部分运行

* DEEP-IDLE模式:这个模式下,CPU的核心电源是关闭的,即CPU核心电源供应,但要关闭内部电源开关。剩下的部分芯片保持相同的正常模式，或关闭电源(除了音频电源域的低功耗MP3播放应用)

* STOP模式:在这个模式下,S5PV210的时钟是关闭的(除了RTC模块)。因此,应用程序编程停止并等待唤醒事件恢复其操作。同时,CPU核心时钟是禁用的
> NOTICE:在正常模式下电源关闭的模块在停止模式下仍保持电源关闭状态

* DEEP-STOP模式: 在这个模式下,CPU核心和剩余部分的芯片电源都是关闭的(除了TOP,RTC和ALIVE模块),这个TOP模块可以关闭电源或打开电源。

* SLEEP 模块:在这个模式下,S5PV210使用调节器或电源管理集成电路从外部关闭内部电源(VDD_ARM,VDD_INT,VDD,PLL).因此S5PV210的内部电源是“关闭”的
> NOTICE:RTC电源和外部电源RTC I/O引脚仍然是“开启”的，如果唤醒事件发生时,通过唤醒复位初始化S5PV210，就像我们常说的上电复位一样。

### ARM处理器模式


